
cd /r1/people/steffi_grote/R_packages/FuncBlocks_package


# package version number is set in 
FuncBlocks/DESCRIPTION

# help page
FuncBlocks/vignettes/FuncBlocks.Rmd

# needs BiocStyle installed
# in R:
source("https://bioconductor.org/biocLite.R")
biocLite("BiocStyle")

# help files for single function like ?go_enrich should be in FuncBlocks/man
not done yet - I will copy some examples from ABAEnrichment

# build package
cd /home/steffi_grote/R_packages/FuncBlocks_package 
R CMD build FuncBlocks #--resave-data

# install package
R CMD INSTALL FuncBlocks_1.1.1.tar.gz

# look at help page
# in R:
vignette("FuncBlocks",package="FuncBlocks")

# if new .cpp files are added, Rcpp's compileAttributes must be run once:
# in R:
require("Rcpp")
setwd("/home/steffi_grote/R_packages/FuncBlocks_package/FuncBlocks")
compileAttributes()

# check that values of some sample anaylses still match "saved_results.RData" (or set them)
cd /home/steffi_grote/R_packages/FuncBlocks_package 
Rscript test_go_enrich_values.R
#Rscript test_go_enrich_values.R set_values  		# to set the saved results ("saved_results.RData")

# TODO
() complete test_get_functions.R
() complete test_plotting_functions.R

() check that there is no restriction on the relation in the ontology
() in get children and get parents multiple entries for the same parent/child with differing distances are possible - is that still the case? if so, delete duplicates and keep only shortest distance

() print or return(!) version of ontology, annotations, (gene-coords for gene_len and regions)
() rename get_names to get_node_name, get_parent_nodes? (oder statt nodes "gos", node allgemeiner) 
() also return total number of annotated genes
() add plot for wilcoxon (plot_scores: gos -> distribution/density of scores compared to root, violin?)
() maybe use one generic plotting function instead of plot_odds / plot_scores...
() wilcoxon for genomic regions? - try out if easy to implement
() add binomial and contingancy tests
() refinement from Func (either use c++ or reimplement in R)
() FDR?
() overall-significance?

() GRCh38 option for gene-coordinates

() allow user-defined term-tables (GO-graph) (-> roots named explicitly or infer from term[,3]?)
() allow user-defined GO-annotations
() allow user-defined gene_coordinates (?)
() update-functions for the previous 3? (biomaRt, ensembldb packages?)

() e.g. in get_anno_genes return NULL (as now) or rather an empty dataframe identical to normal output?
() visualization (email janet - plotting GO-categories)

() add testthat scripts
() add help-pages 
() add vignette (include table with versions of GO-tree and annotations)
() remove check for FWER-order before publication












